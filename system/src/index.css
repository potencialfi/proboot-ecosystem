/* =========================================
   БАЗОВЫЕ НАСТРОЙКИ
   ========================================= */
@tailwind base;
@tailwind components;
@tailwind utilities;

html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: hidden;
  font-size: 16px;
  background-color: #f8fafc;
  color: #0f172a;
}

/* Принудительное наследование шрифтов для форм */
input, button, select, textarea {
  font-family: inherit;
  font-size: inherit;
}

/* 1. Скроллбар */
.custom-scrollbar::-webkit-scrollbar { width: 5px; height: 5px; }
.custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
.custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background-color: #94a3b8; }

/* 2. Убираем стрелочки в input */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type="number"] {
  -moz-appearance: textfield;
}

/* 3. ЗЕЛЕНАЯ КНОПКА (Широкая, яркая) */
.btn-success {
  background-color: #22c55e !important;
  color: #ffffff !important;
  border: none !important;
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.4) !important;
  padding-left: 1.5rem !important;
  padding-right: 1.5rem !important;
  min-width: 140px !important;
  transition: all 0.2s ease-in-out;
}
.btn-success:hover {
  background-color: #16a34a !important;
  box-shadow: 0 6px 16px rgba(34, 197, 94, 0.5) !important;
  transform: translateY(-1px);
}
.btn-success svg { color: white !important; }

@layer components {
  /* --- КАРКАС --- */
  .page-container { @apply h-full flex flex-col p-8 gap-6 overflow-hidden bg-slate-50 animate-fade-in; }
  .page-header-card { @apply bg-white p-5 rounded-2xl shadow-sm border border-gray-200 shrink-0 flex flex-col md:flex-row justify-between items-start md:items-center gap-6; }
  .page-header-group { @apply flex flex-col; }
  .page-header-actions { @apply flex gap-4 items-center ml-auto; }

  /* --- ТИПОГРАФИКА --- */
  .text-h1 { @apply text-3xl font-bold text-gray-900 tracking-tight; }
  .text-subtitle { @apply text-sm text-gray-500 font-medium mt-1; }
  .section-title { @apply text-base font-bold text-gray-800 flex items-center gap-2 uppercase tracking-wide; }
  .section-title-clean { @apply text-lg font-bold text-gray-800 flex items-center gap-2 tracking-wide mb-0 pb-0 border-0; }
  .text-label { @apply block text-sm font-bold text-gray-500 uppercase tracking-wider mb-1.5 ml-1; }
  .link-action { @apply text-blue-600 text-sm font-bold hover:underline flex items-center gap-1 cursor-pointer transition-colors; }
  .link-action svg { @apply w-4 h-4; }

  /* --- ЭМОДЗИ --- */
  .emoji-card { @apply text-5xl leading-none block mt-2; }
  .emoji-table { @apply text-2xl leading-none inline-block; }

  /* --- ПОЛЯ ВВОДА --- */
  .input-wrapper { @apply w-full; }
  .input-container { @apply relative; }
  .input-icon { @apply absolute left-3 top-3.5 text-gray-400 pointer-events-none w-5 h-5; }
  .input-field {
    /* ИСПРАВЛЕНО: text-base вместо text-sm для увеличения шрифта */
    @apply w-full bg-white border border-gray-300 text-gray-900 text-base font-medium 
           rounded-xl px-4 outline-none transition-all h-11
           focus:border-blue-500 focus:ring-4 focus:ring-blue-500/10 
           placeholder:text-gray-400 disabled:bg-gray-50 disabled:text-gray-400;
  }
  .input-with-icon { @apply input-field pl-10; }

  /* --- КНОПКИ --- */
  .btn {
    /* ИСПРАВЛЕНО: убрал явный размер шрифта, чтобы наследовался или был стандартным */
    @apply inline-flex items-center justify-center gap-2 font-bold transition-all 
           active:scale-95 disabled:opacity-60 disabled:pointer-events-none rounded-xl h-11 shadow-sm
           px-5;
  }
  .btn svg { @apply w-5 h-5; }
  .btn-sm { @apply h-9 px-3 text-xs; }
  .btn-md { @apply h-11 px-5; }
  
  .btn-primary { @apply bg-blue-600 text-white border border-blue-600 hover:bg-blue-700 shadow-blue-100; }
  .btn-secondary { @apply bg-white text-gray-700 border border-gray-300 hover:bg-gray-50; }
  .btn-danger { @apply bg-white text-red-600 border border-red-200 hover:bg-red-50 hover:border-red-300 shadow-red-50; }
  
  .btn-icon { @apply p-2 rounded-lg transition-colors duration-200; }
  .btn-icon svg { @apply w-5 h-5; }
  .btn-action-edit { @apply btn-icon text-blue-600 hover:bg-blue-50 bg-blue-50/50; }
  .btn-action-delete { @apply btn-icon text-red-600 hover:bg-red-50 bg-red-50/50; }

  /* --- УПРАВЛЕНИЕ --- */
  .stats-control { @apply flex items-center gap-3 bg-white border border-gray-200 p-1.5 rounded-xl; }
  .stats-label { @apply text-xs font-bold text-gray-400 uppercase tracking-wider ml-2; }
  .toggle-wrapper { @apply flex items-center gap-1 bg-gray-50 p-1 rounded-lg border border-gray-200; }
  .toggle-btn { @apply px-3 py-1.5 rounded-md flex items-center gap-2 text-xs font-bold transition-all; }
  .toggle-btn svg { @apply w-4 h-4; }
  .toggle-btn-active { @apply bg-white text-blue-600 shadow-sm; }
  .toggle-btn-inactive { @apply text-gray-400 hover:text-gray-600; }

  /* --- ТАБЛИЦЫ --- */
  .table-card { @apply bg-white p-0 rounded-2xl shadow-sm border border-gray-200 overflow-hidden flex flex-col flex-1 min-h-0; }
  .table-header { @apply p-5 border-b border-gray-100 flex justify-between items-center bg-white; }
  .table-scroll-area { @apply flex-1 overflow-auto custom-scrollbar; }
  .data-table { @apply w-full text-left border-collapse text-sm; }
  
  .th-base { @apply px-5 py-4 bg-gray-50 text-gray-500 text-[13px] uppercase tracking-wider font-bold border-b border-gray-200 sticky top-0 z-10; }
  .td-base { @apply px-5 py-3.5 border-b border-gray-100 text-gray-700 font-medium align-middle; }
  .tr-row { @apply hover:bg-blue-50/30 transition-colors cursor-default; }
  .tr-row:last-child [class^="td-"] { border-bottom: none; }
  
  .col-id { @apply w-24 pl-8; } .col-date { @apply w-32; } .col-phone { @apply w-48; } .col-stat { @apply w-24 text-center; } .col-money { @apply w-36 text-right; } .col-action { @apply w-32 pr-8 text-right; }

  .td-id { @apply td-base pl-8 font-mono text-gray-500 text-xs; }
  .td-date { @apply td-base text-gray-500 text-xs; }
  .td-title { @apply td-base font-bold text-gray-900; }
  .td-phone { @apply td-base font-mono text-xs text-gray-500; }
  .td-center { @apply td-base text-center; }
  .td-money { @apply td-base text-right font-bold text-emerald-600 font-mono tracking-tight; }
  .td-actions { @apply td-base pr-8 text-right; }
  .td-empty { @apply td-base text-center p-10 text-gray-400 text-lg; }
  .actions-group { @apply flex justify-end gap-2; }

  /* --- ДАШБОРД --- */
  .dashboard-grid { @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5; }
  .stat-card { @apply bg-white p-5 rounded-2xl shadow-sm border border-gray-200 flex flex-col justify-between h-32 relative overflow-hidden; }
  .stat-header { @apply flex items-center gap-2 font-bold text-xs uppercase tracking-wide z-10; }
  .stat-header svg { @apply w-5 h-5; }
  .stat-val-xl { @apply font-black text-gray-800 z-10 text-4xl; }
  .stat-val-lg { @apply font-black text-gray-800 z-10 text-3xl; }
  .stat-val-md { @apply font-black text-gray-800 z-10 text-2xl; }
  .stat-subtext { @apply text-sm text-gray-500 font-medium mt-1; }
  .stat-code-group { @apply flex gap-2 mt-1 text-xs text-gray-400 font-mono; }
  .stat-bg-icon { @apply absolute -right-4 -bottom-4 opacity-10 pointer-events-none w-20 h-20; }
  .icon-fluid { @apply w-full h-full; }

  .st-neutral { @apply text-gray-500; } .bg-st-neutral { @apply stat-bg-icon text-gray-400; }
  .st-indigo { @apply text-indigo-500; } .bg-st-indigo { @apply stat-bg-icon text-indigo-400; }
  .st-green { @apply text-emerald-600; } .bg-st-green { @apply stat-bg-icon text-emerald-400; }
  .st-blue { @apply text-blue-600; } .bg-st-blue { @apply stat-bg-icon text-blue-400; }

  /* --- ЭЛЕМЕНТЫ --- */
  .card { @apply bg-white p-5 rounded-2xl shadow-sm border border-gray-200; }
  .badge { @apply inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-bold tracking-wide uppercase whitespace-nowrap; }
  .badge-neutral { @apply bg-gray-100 text-gray-600; }
  
  .list-item { @apply bg-white p-4 rounded-xl border border-gray-200 transition-all hover:border-blue-300 hover:shadow-sm cursor-pointer flex justify-between items-center; }
  .list-title { @apply font-bold text-gray-800 text-lg mb-1; }
  .list-subtitle { @apply text-base text-gray-600 font-medium; }
  
  .select-card { @apply p-4 rounded-xl border-2 transition-all cursor-pointer relative hover:shadow-md flex flex-col items-center justify-center bg-white h-16; }
  .select-card-active { @apply border-blue-500 bg-blue-50/50 ring-1 ring-blue-500; }
  .select-card-inactive { @apply border-gray-200 hover:border-blue-300 hover:bg-gray-50; }
  .select-card-text { @apply text-xl font-bold leading-none; }
  
  /* --- МОДАЛЬНЫЕ ОКНА --- */
  .modal-overlay { @apply fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-md animate-fade-in; }
  
  .modal-wrapper { @apply bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-slide-up ring-1 ring-gray-200; }
  
  .modal-header { @apply flex justify-between items-center px-5 py-4 border-b border-gray-100; }
  .modal-title { @apply text-lg font-bold text-gray-800; }
  .modal-close { @apply p-1.5 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-gray-600 transition-colors cursor-pointer; }
  .modal-body { @apply p-5 overflow-y-auto max-h-[80vh] custom-scrollbar; }
  
  .modal-footer { @apply px-5 py-4 bg-gray-50 border-t border-gray-100 grid grid-cols-2 gap-3; }
}

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes slideUp { from { transform: translateY(15px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
.animate-fade-in { animation: fadeIn 0.2s ease-out forwards; }
.animate-slide-up { animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }